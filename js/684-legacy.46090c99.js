(self["webpackChunkstarter_ionic"]=self["webpackChunkstarter_ionic"]||[]).push([[684],{9341:(e,t,r)=>{"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},1589:(e,t,r)=>{var n=r(1400),a=r(6244),o=r(6135),i=Array,l=Math.max;e.exports=function(e,t,r){for(var s=a(e),c=n(t,s),u=n(void 0===r?s:r,s),p=i(l(u-c,0)),f=0;c<u;c++,f++)o(p,f,e[c]);return p.length=f,p}},4362:(e,t,r)=>{var n=r(1589),a=Math.floor,o=function(e,t){var r=e.length,s=a(r/2);return r<8?i(e,t):l(e,o(n(e,0,s),t),o(n(e,s),t),t)},i=function(e,t){var r,n,a=e.length,o=1;while(o<a){n=o,r=e[o];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},l=function(e,t,r,n){var a=t.length,o=r.length,i=0,l=0;while(i<a||l<o)e[i+l]=i<a&&l<o?n(t[i],r[l])<=0?t[i++]:r[l++]:i<a?t[i++]:r[l++];return e};e.exports=o},6135:(e,t,r)=>{"use strict";var n=r(4948),a=r(3070),o=r(9114);e.exports=function(e,t,r){var i=n(t);i in e?a.f(e,i,o(0,r)):e[i]=r}},5117:(e,t,r)=>{"use strict";var n=r(6330),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw a("Cannot delete property "+n(t)+" of "+n(e))}},8886:(e,t,r)=>{var n=r(8113),a=n.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},256:(e,t,r)=>{var n=r(8113);e.exports=/MSIE|Trident/.test(n)},8008:(e,t,r)=>{var n=r(8113),a=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},1340:(e,t,r)=>{var n=r(648),a=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return a(e)}},2707:(e,t,r)=>{"use strict";var n=r(2109),a=r(1702),o=r(9662),i=r(7908),l=r(6244),s=r(5117),c=r(1340),u=r(7293),p=r(4362),f=r(9341),d=r(8886),v=r(256),h=r(7392),m=r(8008),g=[],k=a(g.sort),w=a(g.push),_=u((function(){g.sort(void 0)})),x=u((function(){g.sort(null)})),y=f("sort"),S=!u((function(){if(h)return h<70;if(!(d&&d>3)){if(v)return!0;if(m)return m<603;var e,t,r,n,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)g.push({k:t+n,v:r})}for(g.sort((function(e,t){return t.v-e.v})),n=0;n<g.length;n++)t=g[n].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),U=_||!x||!y||!S,b=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};n({target:"Array",proto:!0,forced:U},{sort:function(e){void 0!==e&&o(e);var t=i(this);if(S)return void 0===e?k(t):k(t,e);var r,n,a=[],c=l(t);for(n=0;n<c;n++)n in t&&w(a,t[n]);p(a,b(e)),r=l(a),n=0;while(n<r)t[n]=a[n++];while(n<c)s(t,n++);return t}})},3009:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});r(7658),r(2707);var n=r(4448);const a=r.p+"img/add_camera.90de5f70.svg";var o=r(6154),i=r(7436),l=r(8903),s=r(2201);const c={class:"mt-2 flex flex-wrap justify-between"},u=["onClick"],p={class:"flex justify-center"},f={class:"flex justify-center py-2 text-base"},d={class:"flex items-center justify-between px-7"},v=(0,n._)("img",{class:"h-10 w-10",src:a,alt:""},null,-1),h=[v],m=(0,n.aZ)({__name:"MainPage",setup(e){const t=(0,s.tv)(),r=((0,n.iH)([{type:"camera",is_tracked:"camera",title:"Camera 1",url:"",zmq_port:2180,_id:"fdsfd"}]),(0,n.iH)([])),a=(0,n.iH)(!1),v=(0,n.iH)("Датчик"),m=(0,n.iH)({}),g=[{text:"Отмена",role:"cancel",handler:()=>{w()}},{text:"Да",role:"confirm",handler:()=>{x(m.value._id,m.value.type),w()}}];function k(e){m.value=e;const t="camera"===e.type?"камеру":"датчик";v.value=`Удалить ${t}?`,a.value=!0}function w(){a.value=!1}function _(){r.value=[],o.Z.get("https://6e72-94-143-243-49.ngrok-free.app/api/cameras").then((e=>{e.data.forEach((e=>r.value.push({...e,type:"camera"})))})),o.Z.get("https://6e72-94-143-243-49.ngrok-free.app/api/sensors").then((e=>{e.data.forEach((e=>r.value.push({...e,type:"sensor"})))})),console.log(r.value)}function x(e,t){"camera"===t?o.Z["delete"](`https://6e72-94-143-243-49.ngrok-free.app/api/cameras/${e}`).then((()=>_())):o.Z["delete"](`https://6e72-94-143-243-49.ngrok-free.app/api/sensors/${e}`).then((()=>_()))}function y(e){e.is_tracked?o.Z.post(`https://6e72-94-143-243-49.ngrok-free.app/api/${e.type}s/${e._id}/tracking/stop`):o.Z.post(`https://6e72-94-143-243-49.ngrok-free.app/api/${e.type}s/${e._id}/tracking/start`)}function S(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function U(){t.push("/add_equipment/camera")}function b(){t.push("/add_equipment/sensor")}function C(e){t.push({name:"equipmentPage",params:{id:e._id,equipmentType:e.type}})}return _(),(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)((0,n.SU)(i.Gu),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,n.SU)(i.sr),{class:"flex h-16 font-sans text-black"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,n.SU)(i.wd),{class:"text-2xl"},{default:(0,n.w5)((()=>[(0,n.Uk)("Список оборудования("+(0,n.zw)(r.value.length)+")",1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,n.SU)(i.W2),{class:"h-[85%] overflow-y-auto"},{default:(0,n.w5)((()=>[(0,n._)("div",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.value.sort(S),(e=>((0,n.wg)(),(0,n.j4)((0,n.SU)(i.PM),{key:e._id,class:"w-[44%] hover:cursor-pointer",onClick:t=>C(e)},{default:(0,n.w5)((()=>[(0,n.Wm)((0,n.SU)(i.Zi),{class:"-mr-7 flex items-center justify-between pl-3 pt-2 pb-0"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,n.SU)(i.ho),{modelValue:e.is_tracked,"onUpdate:modelValue":t=>e.is_tracked=t,mode:"ios",color:"success",onClick:(0,n.iM)((t=>y(e)),["stop"])},null,8,["modelValue","onUpdate:modelValue","onClick"]),(0,n._)("div",{class:"mr-5 flex justify-center hover:cursor-pointer active:scale-95",onClick:(0,n.iM)((t=>k(e)),["stop"])},[(0,n.Wm)((0,n.SU)(i.gu),{class:"h-10 w-10",color:"dark",icon:(0,n.SU)(l.fID)},null,8,["icon"])],8,u)])),_:2},1024),(0,n._)("div",p,[(0,n.Wm)((0,n.SU)(i.gu),{class:"h-16 w-16 pl-3",icon:"camera"===e.type?(0,n.SU)(l.kuq):(0,n.SU)(l.z9J)},null,8,["icon"])]),(0,n._)("div",f,(0,n.zw)(e.title?e.title:"no-title"),1)])),_:2},1032,["onClick"])))),128))])])),_:1}),(0,n.Wm)((0,n.SU)(i.fr),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,n.SU)(i.sr),null,{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n._)("div",{class:"flex items-center rounded-lg bg-[#e4e4e4] px-10 py-0.5 active:scale-95",onClick:b},[(0,n.Wm)((0,n.SU)(i.gu),{class:"h-10 w-10",color:"dark",icon:(0,n.SU)(l.z9J)},null,8,["icon"])]),(0,n._)("div",{class:"flex items-center rounded-lg bg-[#e4e4e4] px-10 py-0.5 active:scale-95",onClick:U},h)])])),_:1})])),_:1}),(0,n.Wm)((0,n.SU)(i.Ge),{"is-open":a.value,header:v.value,buttons:g},null,8,["is-open","header"])],64))}}),g=m,k=g}}]);
//# sourceMappingURL=684-legacy.46090c99.js.map